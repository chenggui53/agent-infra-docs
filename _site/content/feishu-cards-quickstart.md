# é£žä¹¦å¡ç‰‡æ¶ˆæ¯å¿«é€Ÿä½¿ç”¨æŒ‡å—

## å·²åˆ›å»ºçš„å¡ç‰‡æ¨¡æ¿

æˆ‘å·²ç»ä¸ºæ‚¨åˆ›å»ºäº†å®Œæ•´çš„é£žä¹¦å¡ç‰‡æ¶ˆæ¯ç³»ç»Ÿï¼ŒåŒ…æ‹¬ï¼š

### ðŸ“ æ–‡ä»¶ç»“æž„
- **`/Users/xiongqi/.openclaw/workspace/feishu-card-templates.js`** - å¡ç‰‡æ¨¡æ¿åº“ï¼ˆ11.9KBï¼‰
- **`/Users/xiongqi/.openclaw/workspace/send-feishu-card.js`** - å¡ç‰‡å‘é€å·¥å…·
- **`/Users/xiongqi/.openclaw/workspace/feishu-cards-quickstart.md`** - å¿«é€Ÿä½¿ç”¨æŒ‡å—

## ðŸŽ¯ å¯ç”¨çš„å¡ç‰‡ç±»åž‹

### 1. æ¬¢è¿Žå¡ç‰‡ (`welcome`)
- **ç”¨é€”**ï¼šé¦–æ¬¡äº¤äº’æ¬¢è¿Ž
- **ç‰¹ç‚¹**ï¼šç®€æ´ç¾Žè§‚ï¼ŒåŒ…å«å¿«é€Ÿæ“ä½œæŒ‰é’®
- **é¢œè‰²**ï¼šè“è‰²ä¸»é¢˜
- **æŒ‰é’®**ï¼šæŸ¥çœ‹çŸ¥è¯†åº“ã€æœç´¢å†…å®¹ã€åˆ›å»ºç¬”è®°

### 2. çŸ¥è¯†åº“ç®¡ç†å¡ç‰‡ (`knowledge`)
- **ç”¨é€”**ï¼šçŸ¥è¯†åº“ç®¡ç†
- **ç‰¹ç‚¹**ï¼šæ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯ï¼Œå¤šæ“ä½œæŒ‰é’®
- **é¢œè‰²**ï¼šè“è‰²ä¸»é¢˜
- **æŒ‰é’®**ï¼šæŸ¥çœ‹çŸ¥è¯†åº“ã€æœç´¢å†…å®¹ã€æ·»åŠ ç¬”è®°ã€ç»Ÿè®¡ä¿¡æ¯

### 3. é—®é¢˜æ±‚è§£å¡ç‰‡ (`question`)
- **ç”¨é€”**ï¼šé—®é¢˜å¤„ç†
- **ç‰¹ç‚¹**ï¼šæ˜¾ç¤ºé—®é¢˜å†…å®¹ï¼Œæä¾›è§£å†³æ–¹æ¡ˆæŒ‰é’®
- **é¢œè‰²**ï¼šæ©™è‰²ä¸»é¢˜
- **æŒ‰é’®**ï¼šæœç´¢ç­”æ¡ˆã€çŸ¥è¯†åº“æœç´¢ã€æ·»åŠ ç¬”è®°

### 4. ä»»åŠ¡ç®¡ç†å¡ç‰‡ (`task`)
- **ç”¨é€”**ï¼šä»»åŠ¡ç®¡ç†
- **ç‰¹ç‚¹**ï¼šæ˜¾ç¤ºä»»åŠ¡åˆ—è¡¨å’ŒçŠ¶æ€
- **é¢œè‰²**ï¼šç»¿è‰²ä¸»é¢˜
- **æŒ‰é’®**ï¼šæ·»åŠ ä»»åŠ¡ã€ä»»åŠ¡ç»Ÿè®¡ã€æ›´æ–°çŠ¶æ€

### 5. å­¦ä¹ å¡ç‰‡ (`learning`)
- **ç”¨é€”**ï¼šå­¦ä¹ ç®¡ç†
- **ç‰¹ç‚¹**ï¼šå­¦ä¹ ä¸»é¢˜å±•ç¤º
- **é¢œè‰²**ï¼šç´«è‰²ä¸»é¢˜
- **æŒ‰é’®**ï¼šæŸ¥çœ‹èµ„æ–™ã€æœç´¢ç›¸å…³å†…å®¹ã€åšç¬”è®°

### 6. é€šçŸ¥å¡ç‰‡ (`notification`)
- **ç”¨é€”**ï¼šæ¶ˆæ¯é€šçŸ¥
- **ç‰¹ç‚¹**ï¼šç®€å•é€šçŸ¥æ ·å¼
- **é¢œè‰²**ï¼šè“è‰²ä¸»é¢˜
- **æŒ‰é’®**ï¼šå·²è¯»ã€æŸ¥çœ‹è¯¦æƒ…

## ðŸš€ å‘é€å¡ç‰‡æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šç›´æŽ¥ä½¿ç”¨ send-feishu-card.jsï¼ˆéœ€è¦å®‰è£…ä¾èµ–ï¼‰

```bash
# å®‰è£…ä¾èµ–
cd /Users/xiongqi/.openclaw/workspace
npm init -y
npm install @larksuiteoapi/node-sdk

# å‘é€æ¬¢è¿Žå¡ç‰‡
node send-feishu-card.js welcome

# å‘é€é—®é¢˜æ±‚è§£å¡ç‰‡
node send-feishu-card.js question --question "å¦‚ä½•ä½¿ç”¨é£žä¹¦APIï¼Ÿ"

# å‘é€å­¦ä¹ å¡ç‰‡
node send-feishu-card.js learning --topic "JavaScriptè¿›é˜¶"

# å‘é€æ‰€æœ‰æµ‹è¯•å¡ç‰‡
node send-feishu-card.js test
```

### æ–¹æ³•äºŒï¼šä½¿ç”¨ tmp ç›®å½•çš„ä¸´æ—¶è„šæœ¬ï¼ˆå·²å®‰è£…ä¾èµ–ï¼‰

```bash
cd /Users/xiongqi/.openclaw/tmp

# å‘é€æ¬¢è¿Žå¡ç‰‡
cat > send_welcome.js << 'EOF'
const Lark = require('@larksuiteoapi/node-sdk');
const sdkConfig = {
  appId: 'cli_a9f6761d33f8dcc5',
  appSecret: '9Z6vwkkyvcQ9QW8JiF6QFc3tfJPbsGkb',
  domain: Lark.Domain.Feishu,
  appType: Lark.AppType.SelfBuild,
};
const client = new Lark.Client(sdkConfig);
async function send() {
  const card = require('/Users/xiongqi/.openclaw/workspace/feishu-card-templates').welcomeCard();
  const response = await client.im.message.create({
    params: { receive_id_type: 'open_id' },
    data: {
      receive_id: 'ou_ca8d1b5ba25ea16407f6b975575ddb5d',
      msg_type: 'interactive',
      content: card.content
    }
  });
  console.log('âœ… å‘é€æˆåŠŸ:', response.data?.message_id);
}
send();
EOF
node send_welcome.js
```

### æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ OpenClaw å·¥å…·è°ƒç”¨

```javascript
// åœ¨ä»£ç ä¸­ç›´æŽ¥å‘é€
const FeishuCardTemplates = require('/Users/xiongqi/.openclaw/workspace/feishu-card-templates');

// å‘é€æ¬¢è¿Žå¡ç‰‡
const card = FeishuCardTemplates.welcomeCard();
// å‘é€å¡ç‰‡çš„ä»£ç ...
```

## ðŸŽ¨ å¡ç‰‡è®¾è®¡è§„èŒƒ

### é¢œè‰²ä¸»é¢˜æ¨¡æ¿
é£žä¹¦æä¾›ä»¥ä¸‹æ¨¡æ¿é¢œè‰²ï¼š
- **blue** - è“è‰²ï¼ˆé»˜è®¤ï¼Œä¸“ä¸šã€ç¨³å®šï¼‰
- **green** - ç»¿è‰²ï¼ˆæˆåŠŸã€å®Œæˆï¼‰
- **orange** - æ©™è‰²ï¼ˆè­¦å‘Šã€æç¤ºï¼‰
- **red** - çº¢è‰²ï¼ˆé”™è¯¯ã€å±é™©ï¼‰
- **purple** - ç´«è‰²ï¼ˆåˆ›æ–°ã€å­¦ä¹ ï¼‰

### æŒ‰é’®ç±»åž‹
- **primary** - è“è‰²ä¸»æŒ‰é’®ï¼ˆæœ€é‡è¦æ“ä½œï¼‰
- **default** - ç°è‰²é»˜è®¤æŒ‰é’®ï¼ˆæ¬¡è¦æ“ä½œï¼‰
- **danger** - çº¢è‰²å±é™©æŒ‰é’®ï¼ˆè­¦å‘Šæ“ä½œï¼‰

### å¸ƒå±€ç±»åž‹
- **å•åˆ—å¸ƒå±€** - é»˜è®¤å¸ƒå±€
- **ä¸¤åˆ—å¸ƒå±€** - ä½¿ç”¨ `is_short: true` å­—æ®µ
- **å®½å±æ¨¡å¼** - ä½¿ç”¨ `wide_screen_mode: true`

## ðŸ“Š å·²å‘é€çš„æµ‹è¯•å¡ç‰‡

### 1. ç®€å•æµ‹è¯•å¡ç‰‡ï¼ˆå·²å‘é€ï¼‰
- **æ¶ˆæ¯ID**ï¼šom_x100b58d4ef3fe8a8c4ffb9609739b92
- **å†…å®¹**ï¼šæ¬¢è¿Žä½¿ç”¨é£žä¹¦å¡ç‰‡æ¶ˆæ¯æ¼”ç¤º

### 2. çŸ¥è¯†åº“ç®¡ç†å¡ç‰‡ï¼ˆå·²å‘é€ï¼‰
- **æ¶ˆæ¯ID**ï¼šom_x100b58d4fe1338a8c12afe4642c666a
- **å†…å®¹**ï¼šçŸ¥è¯†åº“ç®¡ç†ç³»ç»Ÿï¼Œæ˜¾ç¤ºæ–‡ä»¶æ•°é‡å’Œå¤§å°

## ðŸ”„ äº¤äº’å“åº”

å½“ç”¨æˆ·ç‚¹å‡»å¡ç‰‡æŒ‰é’®æ—¶ï¼Œä¼šè§¦å‘äº¤äº’å“åº”ã€‚éœ€è¦åœ¨é£žä¹¦å¼€æ”¾å¹³å°é…ç½®äº¤äº’äº‹ä»¶ç›‘å¬ã€‚

### é…ç½®äº¤äº’äº‹ä»¶
1. è®¿é—®é£žä¹¦å¼€æ”¾å¹³å°ï¼šhttps://open.feishu.cn/app/cli_a9f6761d33f8dcc5/events
2. é…ç½® `im.message.interactive_card_action` äº‹ä»¶
3. è®¾ç½®äº‹ä»¶å›žè°ƒ URL
4. åœ¨ä»£ç ä¸­å¤„ç†æŒ‰é’®ç‚¹å‡»äº‹ä»¶

### äº¤äº’æ•°æ®æ ¼å¼
```json
{
  "token": "xxxxx",
  "action": {
    "tag": "button",
    "value": {
      "action": "view_knowledge"
    },
    "text": "ðŸ“– æŸ¥çœ‹çŸ¥è¯†åº“"
  },
  "open_chat_id": "xxxxx",
  "user_id": {
    "open_id": "ou_ca8d1b5ba25ea16407f6b975575ddb5d"
  }
}
```

## ðŸ“ˆ æœ€ä½³å®žè·µ

### 1. æ ¹æ®åœºæ™¯é€‰æ‹©å¡ç‰‡ç±»åž‹
- **é¦–æ¬¡äº¤äº’**ï¼šä½¿ç”¨æ¬¢è¿Žå¡ç‰‡
- **æ—¥å¸¸ä½¿ç”¨**ï¼šä½¿ç”¨çŸ¥è¯†åº“ç®¡ç†å¡ç‰‡
- **é—®é¢˜å¤„ç†**ï¼šä½¿ç”¨é—®é¢˜æ±‚è§£å¡ç‰‡

### 2. ä¿æŒæŒ‰é’®ç®€æ´
- ä¸»æŒ‰é’® 1-2 ä¸ªï¼ˆè“è‰²ï¼‰
- æ¬¡è¦æŒ‰é’® 2-3 ä¸ªï¼ˆç°è‰²ï¼‰
- å±é™©æ“ä½œæŒ‰é’® 1 ä¸ªï¼ˆçº¢è‰²ï¼‰

### 3. ä½¿ç”¨é€‚å½“çš„é¢œè‰²
- é‡è¦æ“ä½œï¼šè“è‰²
- æˆåŠŸçŠ¶æ€ï¼šç»¿è‰²
- è­¦å‘Šä¿¡æ¯ï¼šæ©™è‰²
- é”™è¯¯æç¤ºï¼šçº¢è‰²

### 4. æä¾›æ¸…æ™°çš„åé¦ˆ
- æŒ‰é’®ç‚¹å‡»åŽç«‹å³åé¦ˆ
- å¤„ç†æ—¶é—´è¾ƒé•¿æ—¶æ˜¾ç¤ºåŠ è½½çŠ¶æ€
- æ“ä½œå®ŒæˆåŽæ˜¾ç¤ºç»“æžœ

## ðŸ› å¸¸è§é—®é¢˜

### 1. å¡ç‰‡å‘é€å¤±è´¥
- æ£€æŸ¥ `appId` å’Œ `appSecret` æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥ç”¨æˆ· `open_id` æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥ç½‘ç»œè¿žæŽ¥
- æŸ¥çœ‹é£žä¹¦ API æ–‡æ¡£å’Œé”™è¯¯ä¿¡æ¯

### 2. æŒ‰é’®ç‚¹å‡»æ— å“åº”
- æ£€æŸ¥äº¤äº’äº‹ä»¶æ˜¯å¦æ­£ç¡®é…ç½®
- æ£€æŸ¥å›žè°ƒ URL æ˜¯å¦å¯è®¿é—®
- æ£€æŸ¥ç½‘ç»œè¿žæŽ¥

### 3. å¡ç‰‡å¸ƒå±€ä¸æ­£ç¡®
- æ£€æŸ¥å­—æ®µé…ç½®æ˜¯å¦æ­£ç¡®
- ä½¿ç”¨å®½å±æ¨¡å¼
- æ£€æŸ¥å›¾åƒèµ„æºæ˜¯å¦å¯ç”¨

## ðŸ“š å‚è€ƒèµ„æº

- **é£žä¹¦å¼€æ”¾å¹³å°æ–‡æ¡£**ï¼šhttps://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/message/create_json
- **äº¤äº’å¼å¡ç‰‡å¼€å‘æŒ‡å—**ï¼šhttps://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/im-v1/message/interactive_card_development_guide
- **å¡ç‰‡ç»„ä»¶å‚è€ƒ**ï¼šhttps://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/im-v1/message/card-components

---
**åˆ›å»ºæ—¶é—´**ï¼š2026å¹´1æœˆ31æ—¥  
**æœ€åŽæ›´æ–°**ï¼š2026å¹´1æœˆ31æ—¥  
**ç‰ˆæœ¬**ï¼š1.0.0
